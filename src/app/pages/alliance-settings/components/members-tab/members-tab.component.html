<mat-card class="tab-content">
  <mat-card-header>
    <mat-card-title>{{ 'alliance.settings.memberList' | translate }}</mat-card-title>
    <mat-card-subtitle>{{ members().length }} {{ 'alliance.settings.members' | translate }}</mat-card-subtitle>
  </mat-card-header>
  
  <mat-card-content>
    @if (members().length === 0) {
      <div class="empty-state">
        <mat-icon>person_add</mat-icon>
        <p>{{ 'alliance.settings.noMembers' | translate }}</p>
      </div>
    } @else {
      <div class="table-container">
        <table mat-table [dataSource]="members()" class="members-table">
          <!-- Display Name Column -->
          <ng-container matColumnDef="displayName">
            <th mat-header-cell *matHeaderCellDef>{{ 'alliance.settings.displayName' | translate }}</th>
            <td mat-cell *matCellDef="let member">
              <div class="member-info">
                <mat-icon>person</mat-icon>
                <span>{{ member.display_name }}</span>
              </div>
            </td>
          </ng-container>

          <!-- Username Column -->
          <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef>{{ 'alliance.settings.username' | translate }}</th>
            <td mat-cell *matCellDef="let member">
              <span class="username">{{ '@' + member.username }}</span>
            </td>
          </ng-container>

          <!-- Role Column -->
          <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef>{{ 'alliance.settings.role' | translate }}</th>
            <td mat-cell *matCellDef="let member">
              <mat-chip [class]="getRoleBadgeClass(member.role)">
                {{ member.role | translate }}
              </mat-chip>
            </td>
          </ng-container>

          <!-- Created At Column -->
          <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef>{{ 'alliance.settings.joinedDate' | translate }}</th>
            <td mat-cell *matCellDef="let member">
              {{ formatDate(member.created_at) }}
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="memberColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: memberColumns;"></tr>
        </table>
      </div>
    }
  </mat-card-content>
</mat-card>
